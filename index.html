
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Anime Chronicles</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <style>
        body {
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #1e2a3c, #0f172a);
            font-family: 'Poppins', sans-serif;
            color: #d1d5db;
            overflow-x: hidden;
            min-height: 100vh;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 30px;
            animation: slideIn 1.2s ease-out;
        }
        .header {
            text-align: center;
            padding: 40px 20px;
            background: #1e293b;
            border-radius: 15px;
            margin-bottom: 40px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.5);
            position: relative;
            overflow: hidden;
            animation: headerPulse 2s ease-in-out infinite;
        }
        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle, rgba(56, 189, 248, 0.2), transparent);
            animation: pulseGlow 6s infinite ease-in-out;
        }
        .header h1 {
            font-size: 3em;
            color: #38bdf8;
            margin: 0;
            text-shadow: 0 0 15px rgba(56, 189, 248, 0.6);
            position: relative;
            z-index: 1;
            letter-spacing: 2px;
        }
        .header h1 span {
            display: inline-block;
            opacity: 0;
            margin-right: 8px;
        }
        .header p {
            font-size: 1.2em;
            color: #94a3b8;
            z-index: 1;
            position: relative;
            animation: fadeInText 1s ease-out 2s forwards;
            opacity: 0;
        }
        .filter-container {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-bottom: 30px;
            animation: filterBounce 1.5s ease-out forwards;
            opacity: 0;
        }
        #search-bar, #filter-select {
            padding: 12px;
            background: #1e293b;
            color: #d1d5db;
            border: 2px solid #38bdf8;
            border-radius: 8px;
            font-size: 1.1em;
            transition: all 0.3s ease;
        }
        #search-bar {
            flex: 1;
        }
        #search-bar:focus, #filter-select:focus {
            outline: none;
            border-color: #f472b6;
            box-shadow: 0 0 15px rgba(244, 114, 182, 0.5);
            transform: scale(1.02);
        }
        .anime-table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0 15px;
        }
        .anime-table th {
            padding: 15px;
            background: #1e293b;
            color: #38bdf8;
            text-transform: uppercase;
            font-weight: 600;
            position: sticky;
            top: 0;
            z-index: 2;
        }
        .anime-table td {
            padding: 20px;
            background: #2d3748;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            transition: transform 0.4s ease, box-shadow 0.4s ease;
        }
        .anime-table tr:hover td {
            transform: translateY(-5px) rotateX(5deg);
            box-shadow: 0 15px 30px rgba(56, 189, 248, 0.5);
        }
        .anime-box {
            display: flex;
            flex-direction: column;
            gap: 10px;
            background: linear-gradient(135deg, #334155, #2d3748);
            padding: 15px;
            border-radius: 10px;
            border: 1px solid #4b5563;
            transform-origin: center;
            cursor: pointer;
        }
        .anime-box .name {
            font-size: 1.4em;
            color: #38bdf8;
            font-weight: 600;
        }
        .anime-box .details {
            font-size: 1em;
            color: #d1d5db;
        }
        .anime-box .rating {
            color: #facc15;
            font-weight: 600;
        }
        footer {
            text-align: center;
            padding: 30px;
            margin-top: 50px;
            color: #94a3b8;
            font-size: 1em;
            background: #1e293b;
            border-radius: 15px;
            box-shadow: 0 -5px 15px rgba(0, 0, 0, 0.4);
            animation: slideUp 1s ease-out 3s forwards;
            opacity: 0;
        }
        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 100;
            align-items: center;
            justify-content: center;
            animation: backdropFadeIn 0.3s ease-out;
        }
        .modal-content {
            background: #1e293b;
            padding: 20px;
            border-radius: 10px;
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.5);
            animation: modalSlideIn 0.4s ease-out;
            position: relative;
            border: 2px solid transparent;
            background-clip: padding-box;
        }
        .modal-content::before {
            content: '';
            position: absolute;
            top: -4px;
            left: -4px;
            right: -4px;
            bottom: -4px;
            border-radius: 12px;
            background: linear-gradient(45deg, #38bdf8, #f472b6, #38bdf8);
            z-index: -1;
            animation: borderGlow 3s infinite linear;
        }
        .modal-content h2 {
            color: #38bdf8;
            margin-top: 0;
        }
        .modal-content p {
            color: #d1d5db;
            line-height: 1.6;
        }
        .close-btn {
            float: right;
            font-size: 1.5em;
            color: #94a3b8;
            cursor: pointer;
            transition: color 0.3s ease, transform 0.3s ease;
        }
        .close-btn:hover {
            color: #f472b6;
            transform: rotate(90deg);
        }
        @keyframes slideIn {
            from { transform: translateY(-50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        @keyframes pulseGlow {
            0% { transform: scale(1); opacity: 0.2; }
            50% { transform: scale(1.1); opacity: 0.4; }
            100% { transform: scale(1); opacity: 0.2; }
        }
        @keyframes headerPulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.02); }
            100% { transform: scale(1); }
        }
        @keyframes fadeInText {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        @keyframes slideUp {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        @keyframes filterBounce {
            0% { transform: translateY(30px); opacity: 0; }
            60% { transform: translateY(-10px); opacity: 1; }
            100% { transform: translateY(0); opacity: 1; }
        }
        @keyframes rowFadeSlide {
            0% { transform: translateX(-20px); opacity: 0; }
            100% { transform: translateX(0); opacity: 1; }
        }
        @keyframes backdropFadeIn {
            from { background: rgba(0, 0, 0, 0); }
            to { background: rgba(0, 0, 0, 0.8); }
        }
        @keyframes modalSlideIn {
            from { transform: translateY(-30px) scale(0.95); opacity: 0; }
            to { transform: translateY(0) scale(1); opacity: 1; }
        }
        @keyframes borderGlow {
            0% { background-position: 0% 0%; }
            100% { background-position: 200% 0%; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1 id="dynamic-title"></h1>
            <p id="stats">Total Anime Watched: 0 | Total Seasons: 0 | Total Episodes: 0</p>
            <div class="filter-container">
                <input type="text" id="search-bar" placeholder="Search anime...">
                <select id="filter-select">
                    <option value="az">A to Z</option>
                    <option value="random">Random</option>
                    <option value="high-low">High to Low Episodes</option>
                    <option value="low-high">Low to High Episodes</option>
                    <option value="rating-high">High to Low Rating</option>
                </select>
            </div>
        </div>
        <table class="anime-table">
            <thead>
                <tr>
                    <th>Anime Info</th>
                    <th>IMDb Rating</th>
                </tr>
            </thead>
            <tbody id="anime-table-body">
                <tr><td><div class="anime-box" data-anime="Baki Hanma"><span class="name">Baki Hanma</span><span class="details">Seasons: 2 | Episodes: 39 | Notes: Season 1 (13 episodes, 2021), Season 2 (26 episodes, 2023)</span></div></td><td class="rating">7.8</td></tr>
                <tr><td><div class="anime-box" data-anime="Campfire Cooking in Another World with My Absurd Skill"><span class="name">Campfire Cooking in Another World with My Absurd Skill</span><span class="details">Seasons: 1 | Episodes: 12 | Notes: Aired January-March 2023, Season 2 announced for 2025</span></div></td><td class="rating">7.4</td></tr>
                <tr><td><div class="anime-box" data-anime="Chainsaw Man"><span class="name">Chainsaw Man</span><span class="details">Seasons: 1 | Episodes: 12 | Notes: Season 1 (12 episodes, 2022), Season 2 TBD</span></div></td><td class="rating">8.7</td></tr>
                <tr><td><div class="anime-box" data-anime="Classroom of the Elite"><span class="name">Classroom of the Elite</span><span class="details">Seasons: 3 | Episodes: 38 | Notes: Season 1 (13 episodes, 2017), Season 2 (13 episodes, 2022), Season 3 (12 episodes, 2024)</span></div></td><td class="rating">8.0</td></tr>
                <tr><td><div class="anime-box" data-anime="Dan Da Dan"><span class="name">Dan Da Dan</span><span class="details">Seasons: 1 | Episodes: 12 | Notes: Aired October-December 2024, Season 2 set for July 2025</span></div></td><td class="rating">8.5</td></tr>
                <tr><td><div class="anime-box" data-anime="Death Note"><span class="name">Death Note</span><span class="details">Seasons: 1 | Episodes: 37 | Notes: Aired October 2006-June 2007</span></div></td><td class="rating">9.0</td></tr>
                <tr><td><div class="anime-box" data-anime="Demon Slayer"><span class="name">Demon Slayer</span><span class="details">Seasons: 4 | Episodes: 55 | Notes: Season 1 (26 episodes, 2019), Season 2 (18 episodes, 2021-2022), Season 3 (11 episodes, 2023), Season 4 (8 episodes, 2024)</span></div></td><td class="rating">8.7</td></tr>
                <tr><td><div class="anime-box" data-anime="Dragon Ball Daima"><span class="name">Dragon Ball Daima</span><span class="details">Seasons: 1 | Episodes: 20 | Notes: Aired October 2024-March 2025</span></div></td><td class="rating">8.0</td></tr>
                <tr><td><div class="anime-box" data-anime="Gods' Game We Play"><span class="name">Gods' Game We Play</span><span class="details">Seasons: 1 | Episodes: 13 | Notes: Aired April-June 2024</span></div></td><td class="rating">7.2</td></tr>
                <tr><td><div class="anime-box" data-anime="I Got a Cheat Skill in Another World and Became Unrivaled in the Real World, Too"><span class="name">I Got a Cheat Skill in Another World and Became Unrivaled in the Real World, Too</span><span class="details">Seasons: 1 | Episodes: 13 | Notes: Aired April-June 2023</span></div></td><td class="rating">6.8</td></tr>
                <tr><td><div class="anime-box" data-anime="I Shall Survive Using Potions!"><span class="name">I Shall Survive Using Potions!</span><span class="details">Seasons: 1 | Episodes: 12 | Notes: Aired October-December 2023</span></div></td><td class="rating">6.9</td></tr>
                <tr><td><div class="anime-box" data-anime="I Was Reincarnated as the 7th Prince so I Can Take My Time Perfecting My Magical Ability"><span class="name">I Was Reincarnated as the 7th Prince so I Can Take My Time Perfecting My Magical Ability</span><span class="details">Seasons: 1 | Episodes: 12 | Notes: Aired April-June 2024, Season 2 set for July 2025</span></div></td><td class="rating">7.6</td></tr>
                <tr><td><div class="anime-box" data-anime="I'm in Love with the Villainess"><span class="name">I'm in Love with the Villainess</span><span class="details">Seasons: 1 | Episodes: 12 | Notes: Aired October-December 2023</span></div></td><td class="rating">7.5</td></tr>
                <tr><td><div class="anime-box" data-anime="Jujutsu Kaisen"><span class="name">Jujutsu Kaisen</span><span class="details">Seasons: 2 | Episodes: 47 | Notes: Season 1 (24 episodes, 2020-2021), Season 2 (23 episodes, 2023)</span></div></td><td class="rating">8.6</td></tr>
                <tr><td><div class="anime-box" data-anime="Junji Ito Collection"><span class="name">Junji Ito Collection</span><span class="details">Seasons: 1 | Episodes: 12 | Notes: Aired January-March 2018</span></div></td><td class="rating">6.7</td></tr>
                <tr><td><div class="anime-box" data-anime="Kaiju No. 8"><span class="name">Kaiju No. 8</span><span class="details">Seasons: 1 | Episodes: 12 | Notes: Aired April-June 2024, Season 2 set for July 2025</span></div></td><td class="rating">8.4</td></tr>
                <tr><td><div class="anime-box" data-anime="Lookism"><span class="name">Lookism</span><span class="details">Seasons: 1 | Episodes: 8 | Notes: Released December 2022</span></div></td><td class="rating">7.7</td></tr>
                <tr><td><div class="anime-box" data-anime="Mashle: Magic and Muscles"><span class="name">Mashle: Magic and Muscles</span><span class="details">Seasons: 2 | Episodes: 24 | Notes: Season 1 (12 episodes, 2023), Season 2 (12 episodes, 2024)</span></div></td><td class="rating">7.9</td></tr>
                <tr><td><div class="anime-box" data-anime="Mushoku Tensei: Jobless Reincarnation"><span class="name">Mushoku Tensei: Jobless Reincarnation</span><span class="details">Seasons: 2 | Episodes: 48 | Notes: Season 1 (23 episodes, 2021), Season 2 (25 episodes, 2023-2024)</span></div></td><td class="rating">8.4</td></tr>
                <tr><td><div class="anime-box" data-anime="My One-Hit Kill Sister"><span class="name">My One-Hit Kill Sister</span><span class="details">Seasons: 1 | Episodes: 12 | Notes: Aired April-June 2023</span></div></td><td class="rating">6.6</td></tr>
                <tr><td><div class="anime-box" data-anime="My Unique Skill Makes Me OP Even at Level 1"><span class="name">My Unique Skill Makes Me OP Even at Level 1</span><span class="details">Seasons: 1 | Episodes: 12 | Notes: Aired July-September 2023</span></div></td><td class="rating">7.0</td></tr>
                <tr><td><div class="anime-box" data-anime="Naruto"><span class="name">Naruto</span><span class="details">Seasons: 2 | Episodes: 720 | Notes: Naruto (220 episodes, 2002-2007), Naruto: Shippuden (500 episodes, 2007-2017)</span></div></td><td class="rating">8.3</td></tr>
                <tr><td><div class="anime-box" data-anime="One Punch Man"><span class="name">One Punch Man</span><span class="details">Seasons: 2 | Episodes: 24 | Notes: Season 1 (12 episodes, 2015), Season 2 (12 episodes, 2019)</span></div></td><td class="rating">8.8</td></tr>
                <tr><td><div class="anime-box" data-anime="Record of Ragnarok"><span class="name">Record of Ragnarok</span><span class="details">Seasons: 2 | Episodes: 25 | Notes: Season 1 (12 episodes, 2021), Season 2 (13 episodes, 2023)</span></div></td><td class="rating">7.5</td></tr>
                <tr><td><div class="anime-box" data-anime="Reign of the Seven Spellblades"><span class="name">Reign of the Seven Spellblades</span><span class="details">Seasons: 1 | Episodes: 13 | Notes: Aired July-September 2023</span></div></td><td class="rating">7.1</td></tr>
                <tr><td><div class="anime-box" data-anime="Solo Leveling"><span class="name">Solo Leveling</span><span class="details">Seasons: 1 | Episodes: 12 | Notes: Aired January-March 2024, Season 2 announced</span></div></td><td class="rating">8.6</td></tr>
                <tr><td><div class="anime-box" data-anime="Spy x Family"><span class="name">Spy x Family</span><span class="details">Seasons: 2 | Episodes: 37 | Notes: Season 1 (25 episodes, 2022), Season 2 (12 episodes, 2023)</span></div></td><td class="rating">8.5</td></tr>
                <tr><td><div class="anime-box" data-anime="Sword Art Online"><span class="name">Sword Art Online</span><span class="details">Seasons: 1 | Episodes: 25 | Notes: Season 1 (25 episodes, 2012)</span></div></td><td class="rating">7.6</td></tr>
                <tr><td><div class="anime-box" data-anime="That Time I Got Reincarnated as a Slime"><span class="name">That Time I Got Reincarnated as a Slime</span><span class="details">Seasons: 3 | Episodes: 62 | Notes: Season 1 (24 episodes, 2018-2019), Season 2 (24 episodes, 2021), Season 3 (14 episodes, 2024 ongoing)</span></div></td><td class="rating">8.1</td></tr>
                <tr><td><div class="anime-box" data-anime="The Daily Life of the Immortal King"><span class="name">The Daily Life of the Immortal King</span><span class="details">Seasons: 4 | Episodes: 51 | Notes: Season 1 (15 episodes, 2020), Season 2 (12 episodes, 2021), Season 3 (12 episodes, 2022), Season 4 (12 episodes, 2023-2024)</span></div></td><td class="rating">7.3</td></tr>
                <tr><td><div class="anime-box" data-anime="The Greatest Demon Lord Is Reborn as a Typical Nobody"><span class="name">The Greatest Demon Lord Is Reborn as a Typical Nobody</span><span class="details">Seasons: 1 | Episodes: 12 | Notes: Aired April-June 2022</span></div></td><td class="rating">6.9</td></tr>
                <tr><td><div class="anime-box" data-anime="The Reincarnation of the Strongest Exorcist in Another World"><span class="name">The Reincarnation of the Strongest Exorcist in Another World</span><span class="details">Seasons: 1 | Episodes: 13 | Notes: Aired January-March 2023</span></div></td><td class="rating">7.2</td></tr>
                <tr><td><div class="anime-box" data-anime="The World's Finest Assassin Gets Reincarnated in Another World as an Aristocrat"><span class="name">The World's Finest Assassin Gets Reincarnated in Another World as an Aristocrat</span><span class="details">Seasons: 1 | Episodes: 12 | Notes: Aired October-December 2021</span></div></td><td class="rating">7.4</td></tr>
                <tr><td><div class="anime-box" data-anime="Tower of God"><span class="name">Tower of God</span><span class="details">Seasons: 2 | Episodes: 26 | Notes: Season 1 (13 episodes, 2020), Season 2 (13 episodes, 2024)</span></div></td><td class="rating">7.7</td></tr>
                <tr><td><div class="anime-box" data-anime="Tsukimichi -Moonlit Fantasy-"><span class="name">Tsukimichi -Moonlit Fantasy-</span><span class="details">Seasons: 2 | Episodes: 37 | Notes: Season 1 (12 episodes, 2021), Season 2 (25 episodes, 2024)</span></div></td><td class="rating">7.8</td></tr>
                <tr><td><div class="anime-box" data-anime="Vampire Dormitory"><span class="name">Vampire Dormitory</span><span class="details">Seasons: 1 | Episodes: 12 | Notes: Aired April-June 2024</span></div></td><td class="rating">6.8</td></tr>
                <tr><td><div class="anime-box" data-anime="Villainess Level 99: I May Be the Hidden Boss but I'm Not the Demon Lord"><span class="name">Villainess Level 99: I May Be the Hidden Boss but I'm Not the Demon Lord</span><span class="details">Seasons: 1 | Episodes: 12 | Notes: Aired January-March 2024</span></div></td><td class="rating">7.5</td></tr>
                <tr><td><div class="anime-box" data-anime="Zom 100: Bucket List of the Dead"><span class="name">Zom 100: Bucket List of the Dead</span><span class="details">Seasons: 1 | Episodes: 12 | Notes: Aired July-December 2023</span></div></td><td class="rating">7.9</td></tr>
            </tbody>
        </table>
        <footer>
            Anime List Watched by Balram | Last Updated March 12, 2025
        </footer>
    </div>
    <div class="modal" id="plot-modal">
        <div class="modal-content">
            <span class="close-btn" id="close-modal">×</span>
            <h2 id="modal-title"></h2>
            <p id="modal-plot"></p>
        </div>
    </div>
    <script>
        const tbody = document.getElementById('anime-table-body');
        const rows = Array.from(tbody.querySelectorAll('tr'));
        const searchBar = document.getElementById('search-bar');
        const filterSelect = document.getElementById('filter-select');
        const dynamicTitle = document.getElementById('dynamic-title');
        const modal = document.getElementById('plot-modal');
        const modalTitle = document.getElementById('modal-title');
        const modalPlot = document.getElementById('modal-plot');
        const closeModal = document.getElementById('close-modal');

        // Calculate totals dynamically
        let totalSeasons = 0;
        let totalEpisodes = 0;
        rows.forEach(row => {
            const details = row.querySelector('.details').textContent;
            const seasonsMatch = details.match(/Seasons: (\d+)/);
            const episodesMatch = details.match(/Episodes: (\d+)/);
            totalSeasons += seasonsMatch ? parseInt(seasonsMatch[1]) : 0;
            totalEpisodes += episodesMatch ? parseInt(episodesMatch[1]) : 0;
        });
        document.getElementById('stats').textContent =
            `Total Anime Watched: ${rows.length} | Total Seasons: ${totalSeasons} | Total Episodes: ${totalEpisodes}`;

        // Title animation sequence
        const stages = [
            "ANIME CHRONICLES",
            "ANIME LIST",
            "ANIME DIARY"
        ];
        const finalTitles = ["ANIME DIARY", "LIST OF ANIME WATCHED BY BALRAM"];

        let currentStage = 0;
        function animateTitle() {
            dynamicTitle.innerHTML = stages[currentStage].split('').map(char => `<span style="opacity: 0">${char}</span>`).join('');
            const spans = dynamicTitle.querySelectorAll('span');
            spans.forEach((span, idx) => {
                setTimeout(() => {
                    span.style.opacity = 1;
                    span.style.transition = 'opacity 0.34s ease';
                }, idx * 100);
            });

            if (currentStage < stages.length - 1) {
                setTimeout(() => {
                    spans.forEach((span, idx) => {
                        setTimeout(() => {
                            span.style.opacity = 0;
                        }, idx * 50);
                    });
                    setTimeout(() => {
                        currentStage++;
                        animateTitle();
                    }, spans.length * 50 + 200);
                }, spans.length * 100 + 500);
            } else {
                setTimeout(() => {
                    let titleIndex = 0;
                    setInterval(() => {
                        dynamicTitle.style.opacity = 0;
                        setTimeout(() => {
                            titleIndex = (titleIndex + 1) % finalTitles.length;
                            dynamicTitle.innerHTML = finalTitles[titleIndex].split('').map(char => `<span style="opacity: 0">${char}</span>`).join('');
                            const newSpans = dynamicTitle.querySelectorAll('span');
                            newSpans.forEach((span, idx) => {
                                setTimeout(() => {
                                    span.style.opacity = 1;
                                    span.style.transition = 'opacity 0.2s ease';
                                }, idx * 50);
                            });
                            dynamicTitle.style.opacity = 1;
                        }, 300);
                    }, 4000);
                }, stages.length * 100 + 1500);
            }
        }
        animateTitle();

        // Render rows with animation
        function renderRows(filteredRows) {
            tbody.innerHTML = '';
            filteredRows.forEach((row, index) => {
                setTimeout(() => {
                    tbody.appendChild(row);
                    row.style.animation = 'rowFadeSlide 0.6s ease-out forwards';
                }, index * 150); // Staggered slide-in
            });
        }

        // Search and filter logic
        function applyFilters() {
            const searchTerm = searchBar.value.trim().toLowerCase();
            const filter = filterSelect.value;

            let filteredRows = rows.filter(row => {
                const animeName = row.querySelector('.name').textContent.toLowerCase();
                return searchTerm === '' || animeName.includes(searchTerm);
            });

            if (filter === 'az') {
                filteredRows.sort((a, b) => a.querySelector('.name').textContent.localeCompare(b.querySelector('.name').textContent));
            } else if (filter === 'random') {
                filteredRows.sort(() => Math.random() - 0.5);
            } else if (filter === 'high-low') {
                filteredRows.sort((a, b) => {
                    const aEp = parseInt(a.querySelector('.details').textContent.match(/Episodes: (\d+)/)[1]);
                    const bEp = parseInt(b.querySelector('.details').textContent.match(/Episodes: (\d+)/)[1]);
                    return bEp - aEp;
                });
            } else if (filter === 'low-high') {
                filteredRows.sort((a, b) => {
                    const aEp = parseInt(a.querySelector('.details').textContent.match(/Episodes: (\d+)/)[1]);
                    const bEp = parseInt(b.querySelector('.details').textContent.match(/Episodes: (\d+)/)[1]);
                    return aEp - bEp;
                });
            } else if (filter === 'rating-high') {
                filteredRows.sort((a, b) => parseFloat(b.cells[1].textContent) - parseFloat(a.cells[1].textContent));
            }

            renderRows(filteredRows);
        }

        // Modal handling with updated summaries
        const plots = {
            "Baki Hanma": "Baki Hanma, son of the invincible Yujiro Hanma, strives to outmatch his father’s unparalleled strength. After enduring savage underground martial arts tournaments, he faces off against lethal fighters like Pickle and Musashi, sharpening his skills to a deadly edge. With allies like Kozue and rivals pushing his limits, Baki’s journey is a brutal odyssey through a world where only the toughest survive.",
            "Campfire Cooking in Another World with My Absurd Skill": "Tsuyoshi Mukoda, a regular office worker, gets whisked into a fantasy realm with a bizarre power: summoning Earth groceries via 'Online Supermarket.' His culinary creations enchant mighty creatures like Fenrir, who joins him as a loyal companion. Together, they roam, cooking exquisite meals that turn perilous quests into delightful gastronomic adventures.",
            "Chainsaw Man": "Denji, a debt-ridden teen, fuses with his devil dog Pochita to become Chainsaw Man, wielding chainsaws from his limbs. Hired by the Public Safety Devil Hunters, he slays grotesque devils alongside allies Power and Aki. Fueled by basic dreams—food, a home, love—Denji’s bloody battles reveal a chaotic world of betrayal and raw survival.",
            "Classroom of the Elite": "Kiyotaka Ayanokoji enters Tokyo’s elite high school, where students vie for supremacy in a ruthless merit system. Hiding his genius, he manipulates events with peers Suzune Horikita and Kikyo Kushida, exposing the school’s sinister secrets. It’s a cerebral battlefield where strategy trumps all in a quest for dominance.",
            "Dan Da Dan": "Momo Ayase (ghost believer) and Ken Takakura (alien enthusiast) spark a rivalry that unleashes their hidden powers after a dare gone wild. Thrust into a frenzy of ghosts, aliens, and yokai, their bickering evolves into teamwork, facing off against absurd supernatural foes in a mix of hilarity and high-octane action.",
            "Death Note": "Light Yagami finds the Death Note, a shinigami’s tool that kills with a name and a face. As Kira, he purges criminals to craft a utopian world, clashing with the brilliant detective L in a gripping mental chess game. Power, justice, and madness collide in this dark, twist-filled thriller.",
            "Demon Slayer": "Tanjiro Kamado joins the Demon Slayer Corps after demons butcher his family, sparing only his sister Nezuko, now a demon with a human heart. Mastering Water Breathing and Hinokami Kagura, he hunts Muzan Kibutsuji with Inosuke, Zenitsu, and Nezuko, seeking her cure amid visceral battles and tragic revelations.",
            "Dragon Ball Daima": "Goku and friends are shrunk into kids by a mysterious conspiracy in the Demon Realm. Exploring this strange world, they battle new foes with pint-sized power, blending classic Dragon Ball action with fresh stakes. It’s a nostalgic yet innovative romp through a compact heroic saga.",
            "Gods' Game We Play": "Leshea, a divine trickster, teams with human genius Fay to outwit gods in cerebral games that decide humanity’s fate. From riddles to tactical showdowns, their ascent unveils divine secrets, mixing sharp banter with mind-bending strategy in a contest where mortals defy the heavens.",
            "I Got a Cheat Skill in Another World and Became Unrivaled in the Real World, Too": "Bullied Yuuya Tenjou gains a cheat skill in a fantasy world, wielding magic and might. Back on Earth, he transforms his life, juggling school with monster hunts. It’s a dual-realm tale of empowerment, friendships, and proving strength isn’t just physical.",
            "I Shall Survive Using Potions!": "Kaoru Nagase reincarnates with potion-crafting powers after a bizarre death. In a medieval land, she brews solutions to outsmart foes and aid allies, carving an independent path with wit and alchemy. Every vial she crafts turns survival into triumph.",
            "I Was Reincarnated as the 7th Prince so I Can Take My Time Perfecting My Magical Ability": "A mage reborn as Prince Lloyd revels in his magical talent, free from duty. Experimenting with spells and battling beasts, he hones his craft leisurely, blending whimsy with explosive magic in a quest for arcane mastery.",
            "I'm in Love with the Villainess": "Office worker Rei reincarnates as Rae Taylor in an otome game, chasing the villainess Claire François instead of princes. Her bold affection shakes noble society, weaving a tender, subversive romance amid magical school antics and defied fate.",
            "Jujutsu Kaisen": "Yuji Itadori ingests a cursed finger, hosting the evil Sukuna. Trained by Satoru Gojo at Jujutsu High, he fights cursed spirits with Megumi and Nobara, unraveling a dark plot tied to Sukuna’s return in a visceral, emotion-charged supernatural epic.",
            "Junji Ito Collection": "Junji Ito’s horror tales come alive—spiraling madness in Uzumaki, seductive dread in Tomie. Each story twists the everyday into nightmares, delivering chilling visuals and creeping unease that haunt long after the screen fades.",
            "Kaiju No. 8": "Kafka Hibino, a kaiju cleaner, becomes one himself yet joins the Defense Force to fight them. Hiding his secret from friend Mina Ashiro, he smashes monsters with humor and grit, balancing dual lives in a kaiju-ravaged world.",
            "Lookism": "Daniel Park toggles between an ugly and handsome body, exposing society’s obsession with looks. High school becomes a lens for self-worth and power, blending raw emotion with sharp social critique in a dual-identity drama.",
            "Mashle: Magic and Muscles": "Mash Burnedead, magic-less in a wizarding world, punches through spells at a magic academy. His brute strength and deadpan humor upend the status quo, proving muscle can outshine magic in a riotous underdog tale.",
            "Mushoku Tensei: Jobless Reincarnation": "A shut-in reincarnates as Rudeus Greyrat, wielding past-life smarts in a fantasy realm. Tutored by Roxy, he explores with Sylphie and Eris, facing wars and redemption in a sprawling, heartfelt journey of second chances.",
            "My One-Hit Kill Sister": "Asahi Ikusaba’s sister Mayu gains a one-hit-kill power in a fantasy world, overshadowing him. Their sibling antics fuel comedy and warmth as they tackle monsters and mysteries, proving family ties outlast any foe.",
            "My Unique Skill Makes Me OP Even at Level 1": "Ryota Sato reincarnates with a stat-boosting skill, dominating dungeons at level one. With ally Emily, he exploits game-like rules, crafting a tale of clever triumphs and camaraderie in a world of endless loot.",
            "Naruto": "Naruto Uzumaki, a fox-demon host, rises from outcast to ninja legend, aiming for Hokage. With Sasuke and Sakura, he battles rogues and ancient evils, forging a saga of grit, bonds, and relentless heart.",
            "One Punch Man": "Saitama’s one-punch power leaves him bored in a hero-filled world. Joining the Hero Association, he seeks a challenge amid quirky allies and epic foes, blending satire with jaw-dropping action.",
            "Record of Ragnarok": "Gods vote to end humanity, but Brunhilde pits 13 human legends against divine warriors. From Jack the Ripper to Zeus, brutal duels decide fate in a mythic, high-stakes spectacle of survival.",
            "Reign of the Seven Spellblades": "Oliver Horn studies deadly spellblades at Kimberly Magic Academy, uncovering murder and dark magic. With friends, he navigates lethal trials, weaving a tense tale of ambition and vengeance in a magical crucible.",
            "Solo Leveling": "Weak hunter Jinwoo Sung gains the System, leveling up to unrivaled power. Slaying monsters and probing gate secrets, his rise is a gritty, strategic ascent through a world on the brink.",
            "Spy x Family": "Spy Twilight, assassin Yor, and telepath Anya fake a family to stop war. Hiding their truths, they mix espionage with comedy and heart, crafting a charming tale of deception and unity.",
            "Sword Art Online": "Kirito and 10,000 players are trapped in Sword Art Online, a VRMMORPG where death is real. With Asuna, he fights to clear 100 floors, blending romance and survival in a virtual gauntlet.",
            "That Time I Got Reincarnated as a Slime": "Satoru Mikami reborn as slime Rimuru builds Tempest with absorbed powers. From monster allies to demon lord status, his journey mixes diplomacy and battles in a warm, expansive fantasy.",
            "The Daily Life of the Immortal King": "Immortal Wang Ling hides his cosmic power in high school, dodging threats and antics with Sun Rong. It’s a quirky blend of teenage life and godly chaos, served with humor.",
            "The Greatest Demon Lord Is Reborn as a Typical Nobody": "Demon Lord Varvatos reincarnates as Ard Meteor, masking his might at a magic academy. With Ireena, he faces old foes, mixing comedy with action in a tale of hidden strength.",
            "The Reincarnation of the Strongest Exorcist in Another World": "Exorcist Haruyoshi reborn as Seika wields sealing arts in secret. With Yifa, he thwarts magical threats, blending cunning and power in a tale of quiet supremacy.",
            "The World's Finest Assassin Gets Reincarnated in Another World as an Aristocrat": "An assassin reborn as Lugh Tuatha Dé aims to kill a hero for a goddess. With Dia and Tarte, he masters deadly skills, weaving espionage and precision in a fantasy intrigue.",
            "Tower of God": "Bam climbs the Tower for Rachel, facing trials with Khun and Rak. Betrayal and epic tests shape a climb fueled by friendship and ambition in a shifting enigma.",
            "Tsukimichi -Moonlit Fantasy-": "Makoto Misumi, rejected as a hero, builds a non-human empire with Tomoe and Mio. Defying gods and prejudice, his tale mixes humor and action in a resilient rise.",
            "Vampire Dormitory": "Mito Yamamoto, disguised as a boy, enters a vampire dorm under Ruka’s wing. Secrets and forbidden love brew in a gothic tale of blood and shadowed bonds.",
            "Villainess Level 99: I May Be the Hidden Boss but I'm Not the Demon Lord": "Yumiella Dolkness, an otome villainess, hits level 99, sparking fear. Her dry wit flips tropes, crafting a lighthearted isekai of reluctant power and schoolyard chaos.",
            "Zom 100: Bucket List of the Dead": "Akira Tendo embraces a zombie apocalypse, chasing bucket-list dreams with Shizuka and Kencho. From skydiving to feasts, it’s a darkly funny ode to life amid undead ruin."
        };

        tbody.addEventListener('click', (e) => {
            const animeBox = e.target.closest('.anime-box');
            if (animeBox) {
                const animeName = animeBox.dataset.anime;
                modalTitle.textContent = animeName;
                modalPlot.textContent = plots[animeName] || "Plot details not available.";
                modal.style.display = 'flex';
            }
        });

        closeModal.addEventListener('click', () => {
            modal.style.display = 'none';
        });

        modal.addEventListener('click', (e) => {
            if (e.target === modal) {
                modal.style.display = 'none';
            }
        });

        // Event listeners
        searchBar.addEventListener('input', applyFilters);
        filterSelect.addEventListener('change', applyFilters);

        // Initial render
        applyFilters();
    </script>
</body>
</html>

In above code calculate all animes number