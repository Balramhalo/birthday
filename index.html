<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat Simulation</title>
    <style>
        /* Setting background and text color */
        body {
            background-color: black;
            color: white;
            font-family: Arial, sans-serif;
        }

        /* Container to hold all chat messages */
        .chat-container {
            width: 350px;
            margin: auto;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        /* General styling for messages */
        .message {
            max-width: 70%;
            padding: 10px;
            border-radius: 15px;
            display: inline-block;
            font-size: 14px;
        }

        /* Styling for receiver messages */
        .receiver {
            background-color: #3A3A3A;
            align-self: flex-start;
        }

        /* Styling for sender messages */
        .sender {
            background-color: #5865F2;
            align-self: flex-end;
        }

        /* Typing animation bubble */
        .typing-indicator {
            display: flex;
            align-items: center;
            gap: 4px;
            background-color: #3A3A3A;
            padding: 10px;
            border-radius: 15px;
            width: 50px;
        }

        /* Three-dot animation */
        .typing-indicator span {
            width: 6px;
            height: 6px;
            background-color: white;
            border-radius: 50%;
            animation: blink 1s infinite alternate;
        }

        .typing-indicator span:nth-child(2) {
            animation-delay: 0.2s;
        }

        .typing-indicator span:nth-child(3) {
            animation-delay: 0.4s;
        }

        /* Blinking effect for typing dots */
        @keyframes blink {
            0% { opacity: 0.3; }
            100% { opacity: 1; }
        }

        /* Styling for the "Seen just now" text */
        .seen {
            font-size: 12px;
            color: gray;
            text-align: right;
            margin-right: 5px;
        }
    </style>
</head>
<body>

<!-- Chat Container -->
<div class="chat-container">
    <!-- First Message from the Receiver -->
    <div class="message receiver">Acha?</div>
</div>

<script>
    /**
     * Function to add messages with optional typing animation.
     * @param {string} text - The message to be displayed.
     * @param {boolean} sender - If true, message is from our side; else, it's from the receiver.
     * @param {boolean} isTyping - If true, show typing animation before the message.
     * @param {number} delay - Delay before the message appears.
     */
    function appendMessage(text, sender = true, isTyping = false, delay = 1000) {
        const chatContainer = document.querySelector(".chat-container");

        if (isTyping) {
            // Create typing animation bubble
            let typingBubble = document.createElement("div");
            typingBubble.classList.add("message", "receiver", "typing-indicator");
            typingBubble.innerHTML = "<span></span><span></span><span></span>";
            chatContainer.appendChild(typingBubble);

            setTimeout(() => {
                // Remove typing animation and add actual message
                chatContainer.removeChild(typingBubble);
                let messageBubble = document.createElement("div");
                messageBubble.classList.add("message", sender ? "sender" : "receiver");
                messageBubble.innerText = text;
                chatContainer.appendChild(messageBubble);

                // If sender, add "Seen just now"
                if (sender) {
                    setTimeout(() => {
                        let seenText = document.createElement("div");
                        seenText.classList.add("seen");
                        seenText.innerText = "Seen just now";
                        chatContainer.appendChild(seenText);
                    }, 500);
                }
            }, delay);
        } else {
            // Directly add message without typing animation
            let messageBubble = document.createElement("div");
            messageBubble.classList.add("message", sender ? "sender" : "receiver");
            messageBubble.innerText = text;
            chatContainer.appendChild(messageBubble);

            // If sender, add "Seen just now"
            if (sender) {
                setTimeout(() => {
                    let seenText = document.createElement("div");
                    seenText.classList.add("seen");
                    seenText.innerText = "Seen just now";
                    chatContainer.appendChild(seenText);
                }, 500);
            }
        }
    }

    // Step 1: Typing animation for "Acha lagta hai" after 1 sec
    setTimeout(() => {
        appendMessage("Acha lagta hai", false, true, 1500);
    }, 1000);

    // Step 2: Our response "Awwwww thank you!! Tu bhi bohot achi hai" after 3 sec
    setTimeout(() => {
        appendMessage("Awwwww thank you!! Tu bhi bohot achi hai", true, false);
    }, 3000);
</script>

</body>
</html>