

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Anime Chronicles</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <style>
        body {
            margin: 0;
            padding: 0;
            background: #1f2a44;
            font-family: 'Poppins', sans-serif;
            color: #d1d5db;
            transition: background 0.5s ease, color 0.5s ease;
        }
        body.light-mode {
            background: #f1f5f9;
            color: #1f2a44;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            animation: slideIn 1s ease-out;
        }
        .header {
            text-align: center;
            padding: 30px 20px;
            background: #1e293b;
            border-radius: 10px;
            margin-bottom: 30px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            position: relative;
        }
        body.light-mode .header {
            background: #e2e8f0;
        }
        .header h1 {
            font-size: 2.5em;
            color: #38bdf8;
            margin: 0;
            text-shadow: 0 0 10px rgba(56, 189, 248, 0.3);
        }
        body.light-mode .header h1 {
            color: #2563eb;
            text-shadow: none;
        }
        .header p {
            font-size: 1.1em;
            color: #94a3b8;
        }
        body.light-mode .header p {
            color: #4b5563;
        }
        .hamburger {
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 100;
            cursor: pointer;
            padding: 10px;
            background: #1e293b;
            border-radius: 5px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        }
        body.light-mode .hamburger {
            background: #e2e8f0;
        }
        .hamburger span {
            display: block;
            width: 25px;
            height: 3px;
            background: #38bdf8;
            margin: 5px 0;
            transition: all 0.3s ease;
        }
        body.light-mode .hamburger span {
            background: #2563eb;
        }
        .hamburger.active span:nth-child(1) {
            transform: rotate(45deg) translate(7px, 7px);
        }
        .hamburger.active span:nth-child(2) {
            opacity: 0;
        }
        .hamburger.active span:nth-child(3) {
            transform: rotate(-45deg) translate(7px, -7px);
        }
        .menu {
            position: fixed;
            top: 0;
            left: -250px;
            width: 250px;
            height: 100%;
            background: #1e293b;
            padding: 60px 20px 20px;
            transition: left 0.3s ease;
            box-shadow: 2px 0 10px rgba(0, 0, 0, 0.3);
            z-index: 99;
        }
        body.light-mode .menu {
            background: #e2e8f0;
        }
        .menu.active {
            left: 0;
        }
        .menu button {
            display: block;
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            background: #38bdf8;
            color: #fff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background 0.3s ease;
        }
        body.light-mode .menu button {
            background: #2563eb;
            color: #fff;
        }
        .menu button:hover {
            background: #f472b6;
        }
        .filter-container {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        #search-bar, #filter-select {
            padding: 10px;
            background: #1e293b;
            color: #d1d5db;
            border: 2px solid #38bdf8;
            border-radius: 5px;
            font-size: 1em;
            transition: all 0.3s ease;
        }
        body.light-mode #search-bar, body.light-mode #filter-select {
            background: #fff;
            color: #1f2a44;
            border-color: #2563eb;
        }
        #search-bar:focus, #filter-select:focus {
            outline: none;
            border-color: #f472b6;
            box-shadow: 0 0 10px rgba(244, 114, 182, 0.5);
        }
        .anime-table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0 10px;
        }
        .anime-table th {
            padding: 15px;
            background: #1e293b;
            color: #38bdf8;
            text-transform: uppercase;
            font-weight: 600;
        }
        body.light-mode .anime-table th {
            background: #e2e8f0;
            color: #2563eb;
        }
        .anime-table td {
            padding: 15px;
            background: #2d3748;
            border-radius: 8px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
            transition: transform 0.3s ease;
        }
        body.light-mode .anime-table td {
            background: #fff;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
        }
        .anime-table tr:hover td {
            transform: translateY(-3px);
        }
        .anime-box {
            display: flex;
            flex-direction: column;
            gap: 8px;
            background: #334155;
            padding: 10px;
            border-radius: 6px;
            position: relative;
        }
        body.light-mode .anime-box {
            background: #f1f5f9;
        }
        .anime-box .name {
            font-size: 1.3em;
            color: #38bdf8;
            font-weight: 600;
            cursor: pointer;
        }
        body.light-mode .anime-box .name {
            color: #2563eb;
        }
        .anime-box .details {
            font-size: 0.95em;
            color: #d1d5db;
        }
        body.light-mode .anime-box .details {
            color: #4b5563;
        }
        .anime-box .progress {
            margin-top: 5px;
            font-size: 0.9em;
            color: #94a3b8;
        }
        body.light-mode .anime-box .progress {
            color: #6b7280;
        }
        .anime-box .progress input {
            width: 50px;
            margin-left: 5px;
        }
        .favorite-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background: none;
            border: none;
            font-size: 1.2em;
            cursor: pointer;
            color: #94a3b8;
            transition: color 0.3s ease;
        }
        .favorite-btn.favorited {
            color: #f472b6;
        }
        body.light-mode .favorite-btn {
            color: #6b7280;
        }
        body.light-mode .favorite-btn.favorited {
            color: #db2777;
        }
        .rating {
            color: #facc15;
            font-weight: 600;
        }
        footer {
            text-align: center;
            padding: 20px;
            margin-top: 40px;
            color: #94a3b8;
            font-size: 0.9em;
            background: #1e293b;
            border-radius: 10px;
            box-shadow: 0 -3px 10px rgba(0, 0, 0, 0.2);
        }
        body.light-mode footer {
            background: #e2e8f0;
            color: #4b5563;
        }
        @keyframes slideIn {
            from { transform: translateY(-20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
    </style>
</head>
<body>
    <div class="hamburger">
        <span></span>
        <span></span>
        <span></span>
    </div>
    <div class="menu">
        <button id="toggle-mode">Toggle Light/Dark Mode</button>
        <button id="export-csv">Export to CSV</button>
        <button id="show-favorites">Show Favorites Only</button>
        <button id="reset-progress">Reset Progress</button>
    </div>
    <div class="container">
        <div class="header">
            <h1 id="dynamic-title"></h1>
            <p id="stats">Total Anime Watched: 0 | Total Seasons: 0 | Total Episodes: 0</p>
            <div class="filter-container">
                <input type="text" id="search-bar" placeholder="Search anime...">
                <select id="filter-select">
                    <option value="az">A to Z</option>
                    <option value="random">Random</option>
                    <option value="high-low">High to Low Episodes</option>
                    <option value="low-high">Low to High Episodes</option>
                    <option value="rating-high">High to Low Rating</option>
                </select>
            </div>
        </div>
        <table class="anime-table">
            <thead>
                <tr>
                    <th>Anime Info</th>
                    <th>IMDb Rating</th>
                </tr>
            </thead>
            <tbody id="anime-table-body">
                <!-- Anime data will be populated dynamically -->
            </tbody>
        </table>
        <footer>
            Anime List Watched by Balram | Last Updated March 07, 2025
        </footer>
    </div>
    <script>
        const animeData = [
            { name: "Baki Hanma", seasons: 2, episodes: 24, notes: "Season 1 (12 episodes, 2021), Season 2 (12 episodes, 2023)", rating: 7.8 },
            { name: "Chainsaw Man", seasons: 2, episodes: 24, notes: "Season 1 (12 episodes, 2022), Season 2 (12 episodes, 2023), movie in 2025", rating: 8.7 },
            { name: "Death Note", seasons: 1, episodes: 39, notes: "Aired from 2006 to 2007, total 39 episodes", rating: 9.0 },
            { name: "Demon Slayer", seasons: 3, episodes: 61, notes: "Season 1 (26 episodes, 2019), Season 2 (24 episodes, 2021-2022), Season 3 (11 episodes, 2023)", rating: 8.7 },
            { name: "Jujutsu Kaisen", seasons: 2, episodes: 47, notes: "Season 1 (24 episodes, 2020-2021), Season 2 (23 episodes, 2023)", rating: 8.6 },
            { name: "Naruto", seasons: 2, episodes: 720, notes: "Naruto (220 episodes, 2002-2007), Naruto: Shippuden (500 episodes, 2007-2017)", rating: 8.3 },
            { name: "One Punch Man", seasons: 2, episodes: 24, notes: "Season 1 (12 episodes, 2015), Season 2 (12 episodes, 2019)", rating: 8.8 },
            { name: "Solo Leveling", seasons: 1, episodes: 12, notes: "Aired from January to March 2024", rating: 8.6 },
            { name: "Spy x Family", seasons: 2, episodes: 37, notes: "Season 1 (25 episodes, 2022), Season 2 (12 episodes, 2023)", rating: 8.5 },
            { name: "Sword Art Online", seasons: 4, episodes: 85, notes: "Season 1 (25 episodes, 2012-2013), Season 2 (24 episodes, 2014), Season 3 (24 episodes, 2018-2019), Season 4 (12 episodes, 2020-2021)", rating: 7.6 }
            // Add more anime as needed
        ];

        const tbody = document.getElementById('anime-table-body');
        const searchBar = document.getElementById('search-bar');
        const filterSelect = document.getElementById('filter-select');
        const dynamicTitle = document.getElementById('dynamic-title');
        const hamburger = document.querySelector('.hamburger');
        const menu = document.querySelector('.menu');
        const toggleModeBtn = document.getElementById('toggle-mode');
        const exportCsvBtn = document.getElementById('export-csv');
        const showFavoritesBtn = document.getElementById('show-favorites');
        const resetProgressBtn = document.getElementById('reset-progress');

        // Local storage for favorites and progress
        let favorites = JSON.parse(localStorage.getItem('favorites')) || [];
        let progress = JSON.parse(localStorage.getItem('progress')) || {};

        // Populate table
        function populateTable(data) {
            tbody.innerHTML = '';
            data.forEach((anime, index) => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>
                        <div class="anime-box" data-anime="${anime.name}">
                            <span class="name">${anime.name}</span>
                            <span class="details">Seasons: ${anime.seasons} | Episodes: ${anime.episodes} | Notes: ${anime.notes}</span>
                            <span class="progress">Watched: <input type="number" min="0" max="${anime.episodes}" value="${progress[anime.name] || 0}" data-anime="${anime.name}"> / ${anime.episodes}</span>
                            <button class="favorite-btn ${favorites.includes(anime.name) ? 'favorited' : ''}" data-anime="${anime.name}">&#9829;</button>
                        </div>
                    </td>
                    <td class="rating">${anime.rating}</td>
                `;
                row.style.animation = `fadeIn 0.5s ease-out ${index * 0.1}s forwards`;
                row.style.opacity = '0';
                tbody.appendChild(row);
            });
        }

        // Initial stats
        function updateStats(data) {
            const totalSeasons = data.reduce((sum, anime) => sum + anime.seasons, 0);
            const totalEpisodes = data.reduce((sum, anime) => sum + anime.episodes, 0);
            document.getElementById('stats').textContent = `Total Anime Watched: ${data.length} | Total Seasons: ${totalSeasons} | Total Episodes: ${totalEpisodes}`;
        }

        // Title animation
        const initialText = "ANIME CHRONICLES";
        const nextText = "DIARY";
        const finalTitles = ["ANIME DIARY", "ANIME LIST WATCHED BY BALRAM"];
        dynamicTitle.innerHTML = initialText.split('').map(char => `<span>${char}</span>`).join('');
        const spans = dynamicTitle.querySelectorAll('span');
        spans.forEach((span, index) => {
            setTimeout(() => {
                span.style.opacity = 1;
                span.style.transition = 'opacity 0.2s ease';
            }, index * 100);
        });
        setTimeout(() => {
            const chroniclesStart = 5;
            for (let i = spans.length - 1; i >= chroniclesStart; i--) {
                setTimeout(() => {
                    spans[i].style.opacity = 0;
                    if (i === chroniclesStart) {
                        setTimeout(() => {
                            dynamicTitle.innerHTML = "ANIME " + nextText.split('').map(char => `<span style="opacity: 0">${char}</span>`).join('');
                            const newSpans = dynamicTitle.querySelectorAll('span');
                            newSpans.forEach((span, idx) => {
                                setTimeout(() => {
                                    span.style.opacity = 1;
                                    span.style.transition = 'opacity 0.2s ease';
                                }, (idx - 5) * 100);
                            });
                        }, 200);
                    }
                }, (spans.length - 1 - i) * 100);
            }
        }, initialText.length * 100 + 500);
        setTimeout(() => {
            let titleIndex = 0;
            setInterval(() => {
                dynamicTitle.style.opacity = 0;
                setTimeout(() => {
                    titleIndex = (titleIndex + 1) % finalTitles.length;
                    dynamicTitle.innerHTML = finalTitles[titleIndex].split('').map(char => `<span style="opacity: 0">${char}</span>`).join('');
                    const newSpans = dynamicTitle.querySelectorAll('span');
                    newSpans.forEach((span, idx) => {
                        setTimeout(() => {
                            span.style.opacity = 1;
                            span.style.transition = 'opacity 0.2s ease';
                        }, idx * 50);
                    });
                    dynamicTitle.style.opacity = 1;
                }, 300);
            }, 4000);
        }, initialText.length * 100 + nextText.length * 100 + 1500);

        // Filter and search
        function applyFilters() {
            const searchTerm = searchBar.value.trim().toLowerCase();
            const filter = filterSelect.value;
            let filteredData = animeData.filter(anime => {
                return searchTerm === '' || anime.name.toLowerCase().includes(searchTerm);
            });
            if (filter === 'az') {
                filteredData.sort((a, b) => a.name.localeCompare(b.name));
            } else if (filter === 'random') {
                filteredData.sort(() => Math.random() - 0.5);
            } else if (filter === 'high-low') {
                filteredData.sort((a, b) => b.episodes - a.episodes);
            } else if (filter === 'low-high') {
                filteredData.sort((a, b) => a.episodes - b.episodes);
            } else if (filter === 'rating-high') {
                filteredData.sort((a, b) => b.rating - a.rating);
            }
            populateTable(filteredData);
            updateStats(filteredData);
        }

        // Hamburger menu toggle
        hamburger.addEventListener('click', () => {
            hamburger.classList.toggle('active');
            menu.classList.toggle('active');
        });

        // Light/Dark mode toggle
        toggleModeBtn.addEventListener('click', () => {
            document.body.classList.toggle('light-mode');
            localStorage.setItem('theme', document.body.classList.contains('light-mode') ? 'light' : 'dark');
        });
        if (localStorage.getItem('theme') === 'light') {
            document.body.classList.add('light-mode');
        }

        // Export to CSV
        exportCsvBtn.addEventListener('click', () => {
            const csv = ['Name,Seasons,Episodes,Notes,Rating,Watched'].concat(
                animeData.map(anime => `${anime.name},${anime.seasons},${anime.episodes},${anime.notes},${anime.rating},${progress[anime.name] || 0}`)
            ).join('\n');
            const blob = new Blob([csv], { type: 'text/csv' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'anime_list.csv';
            a.click();
            window.URL.revokeObjectURL(url);
        });

        // Show favorites only
        let showFavoritesOnly = false;
        showFavoritesBtn.addEventListener('click', () => {
            showFavoritesOnly = !showFavoritesOnly;
            showFavoritesBtn.textContent = showFavoritesOnly ? 'Show All' : 'Show Favorites Only';
            applyFilters();
            if (showFavoritesOnly) {
                const filtered = animeData.filter(anime => favorites.includes(anime.name));
                populateTable(filtered);
                updateStats(filtered);
            }
        });

        // Reset progress
        resetProgressBtn.addEventListener('click', () => {
            if (confirm('Reset all progress?')) {
                progress = {};
                localStorage.setItem('progress', JSON.stringify(progress));
                applyFilters();
            }
        });

        // Event delegation for favorites and progress
        tbody.addEventListener('click', (e) => {
            if (e.target.classList.contains('favorite-btn')) {
                const animeName = e.target.dataset.anime;
                if (favorites.includes(animeName)) {
                    favorites = favorites.filter(name => name !== animeName);
                    e.target.classList.remove('favorited');
                } else {
                    favorites.push(animeName);
                    e.target.classList.add('favorited');
                }
                localStorage.setItem('favorites', JSON.stringify(favorites));
            }
        });
        tbody.addEventListener('input', (e) => {
            if (e.target.tagName === 'INPUT') {
                const animeName = e.target.dataset.anime;
                const value = parseInt(e.target.value);
                const max = parseInt(e.target.max);
                progress[animeName] = Math.min(Math.max(value, 0), max);
                localStorage.setItem('progress', JSON.stringify(progress));
                applyFilters(); // Refresh to update stats if needed
            }
        });

        // Initial render
        populateTable(animeData);
        updateStats(animeData);
        searchBar.addEventListener('input', applyFilters);
        filterSelect.addEventListener('change', applyFilters);
    </script>
</body>
</html>
